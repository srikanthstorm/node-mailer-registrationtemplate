<div class="content">
  <!-- <div class="container">
    <p class="breadcrumb"> Welcome > <span>{{pageName}}</span></p>
  </div> -->
  <div class="container-fluid admin-table">   
    <div class="row">
        <div class="card profile">
          <div class="card-header card-header-icon card-header-rose">
              <div class="card-icon">
                <i class="material-icons">{{pageIcon}}</i>
              </div>
              <h4 class="card-title">{{pageHeadings}} </h4>
          </div>
          <div class="card-body">
              <div class="row m-b-20">
                  <div class="col-md-2">
                     <mat-form-field >
                         <mat-select placeholder="Filter by Source" (selectionChange)="getbyArticle($event.value)" 
                         [(ngModel)]="article" name="article" id="article">
                           <mat-option *ngFor="let article of feeds" [value]="article._id">
                               {{article._id}}
                     <span class="text-blue">( {{article.count}} )</span> 
                           </mat-option>
                         </mat-select>
                     </mat-form-field>
                   </div>
                   <div class="col-md-7 ">
                   </div>
                   <div class="col-md-3 ">
                     <button type="submit" class="btn pull-right" routerLink="./addFeed">Add New </button>
                   </div>
              </div>
              <div class="row tag" *ngIf="showFeed == true" >
                  <form class="col-md-6 tag-feed" >
                      <div class="row" *ngFor="let rss of rssfeed">
                          <div class="col-md-12">
                              <div class="form-group">
                                <label class="bmd-label-floating">Article Title</label>
                               <a href="{{rss.articles_url}}" class="link">
                                 <label class="form-control">{{rss.articles_title}}</label>
                                </a> 
                              </div>
                          </div>
                          <div class="col-md-12">
                              <div class="form-group">
                                <label class="bmd-label-floating">Website</label>
                                <label class="form-control">{{rss.articles_url}}</label>
                              </div>
                          </div>
                          <div class="col-md-6 m-t-5">
                              <div class="form-group">
                                <label class="bmd-label-floating">Source </label>
                                <label class="form-control">{{rss.articles_source_name}}</label>
                             </div>
                            </div>
                            <div class="col-md-6 m-t-5">
                              <div class="form-group">
                                <label class="bmd-label-floating">Article Date </label>
                                <label class="form-control">{{rss.articles_publishedAt | date:"dd-MM-yyyy HH:mm a"}}</label>
                              </div> 
                            </div>
                            
                              <div class="col-md-6 m-t-5">
                                <div class="form-group">
                                  <label class="bmd-label-floating">Keywords </label>
                                  <label class="form-control text-blue">{{rss.keyword}}</label>
                                </div>
                              </div>
                              <div class="col-md-6 m-t-5">
                                  <div class="form-group">
                                    <label class="bmd-label-floating">Stock Code</label>
                                    <label class="form-control text-blue">{{rss.stockcode}}</label>
                                 </div>
                                </div> 
      
                      </div>
                      <div class="row">
                          <div class="col-md-12">
                              <div class="form-group">
                                <label class="bmd-label-floating">Description</label>
                                <label class="form-control" id="result"></label>
                             </div>
                            </div>
                      </div>
                      <div class="row" *ngFor="let rss of rssfeed">
                          <div class="col-md-12">
                            <div class="form-group">
                              <label class="bmd-label-floating">Content</label>
                              <label class="form-control">{{rss.articles_content}}</label>
                            </div>
                          </div>
                          <div class="col-md-12">
                              <div class="form-group">
                                <label class="bmd-label-floating">Image</label>
                                <br>
                                <img src="{{img}}" width=200px>
                              </div>
                            </div>
                        </div>
                  </form>
                  <div class="col-md-6" >
                      <div class="card tags">
                          <div class="card-body">
                              <form>
                                  <div class="row">
                                    <div class="col-md-6">
                                        <div class="">
                                            <label class="bmd-label-floating">Primary Keyword</label>
                                            <ng-multiselect-dropdown
                                            [placeholder]="'Select One'"
                                            [data]="keywords"
                                            name="primaryKeyword"
                                            [(ngModel)]="primaryKeyword"
                                            [settings]="keywordSettings"
                                            (onSelect)="onKeySelect($event)"
                                            (onSelectAll)="onKeySelectAll($event)"
                                            ></ng-multiselect-dropdown>
                                          </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group" [ngClass]="{ 'has-danger': stockcode.invalid &&(stockcode.dirty || stockcode.touched),
                                        'has-success': stockcode.valid && (stockcode.dirty || stockcode.touched)}">
                                          <label class="bmd-label-floating">Stock Code</label>
                                          <input type="text" class="form-control" id="stockcode" name="stockcode" [(ngModel)]="stockcodeText" #stockcode="ngModel"
                                          >
                                        </div>
                                        <div  class="help-block txt1" *ngIf="stockcode.errors && (stockcode.dirty || stockcode.touched)">
                                            <p *ngIf="stockcode?.errors.required">Stock Code is required</p>
                                          </div>
                                    </div>
                                    
                                  <div class="col-md-12">
                                      <label class="bmd-label-floating">Secondary Keywords( Select one or more)</label>
                                         <br><br>
                                      <mat-selection-list [ngModel]="selectedKeywords" name="selectedKeywords" id="selectedKeywords"
                                              (ngModelChange)="onselectedKeywordsChange($event)"
                                              (change)="changeEventCount" class="row" >
                                                  <mat-list-option class="col-md-4" *ngFor="let keyword of keywords" [value]="keyword.keyword_name">
                                                     {{keyword.keyword_name}}
                                                  </mat-list-option>
                                                </mat-selection-list>   
                                  </div>
                                  </div>
                                  
                                 <!-- <div class="row">
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label class="bmd-label-floating"> Keywords</label>
                                            <ng-multiselect-dropdown
                                            [placeholder]="'Select One or More'"
                                            [data]="keywords"
                                            name="selectedKeywords"
                                            [(ngModel)]="selectedKeywords"
                                            [settings]="keywordSettings"
                                            (onSelect)="onKeySelect($event)"
                                            (onSelectAll)="onKeySelectAll($event)"
                                            ></ng-multiselect-dropdown>
                                          </div>
                                    </div>
                                    <div class="clearfix"></div>
                                    <br><br>
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label class="bmd-label-floating"> Interested Companies</label>
                                            <ng-multiselect-dropdown
                                      [placeholder]="'Select One or More'"
                                      [data]="stockCodes"
                                      name="selectedStocks"
                                      [(ngModel)]="selectedStocks"
                                      [settings]="stockSettings"
                                      (onSelect)="onStockSelect($event)"
                                      (onSelectAll)="onStockSelectAll($event)"
                                      ></ng-multiselect-dropdown>
                                          </div>
                                    </div>
                                   </div> -->
                                   <br><br>
                                   <div class="button-div row" *ngFor="let rss of rssfeed">
                                     <div class="col-md-6">
                                      <button type="submit" class="btn pull-right" value={{rss?._id}} style="float:left !important;" (click)="ignoreFeed(rss?._id)">Ignore Feed</button>
                                    </div>
                                    <div class="col-md-6">
                                   <button type="submit" class="btn pull-right" (click)="tagFeed(rss?._id)">Tag Feed</button>
                                  </div> 
                                  </div>
                                  <div class="clearfix"></div>
                              </form>
                              <!-- <form>
                               <div class="row">
                                  <div class="col-md-12">
                                      <div class="form-group">
                                          <label class="bmd-label-floating"> Keywords</label>
                                          <ng-multiselect-dropdown
                                          [placeholder]="'Select One or More'"
                                          [data]="keywords"
                                          name="selectedKeywords"
                                          [(ngModel)]="selectedKeywords"
                                          [settings]="keywordSettings"
                                          (onSelect)="onKeySelect($event)"
                                          (onSelectAll)="onKeySelectAll($event)"
                                          ></ng-multiselect-dropdown>
                                        </div>
                                  </div>
                                  <div class="clearfix"></div>
                                  <br><br>
                                  <div class="col-md-12">
                                      <div class="form-group">
                                          <label class="bmd-label-floating"> Interested Companies</label>
                                          <ng-multiselect-dropdown
                                    [placeholder]="'Select One or More'"
                                    [data]="stockCodes"
                                    name="selectedStocks"
                                    [(ngModel)]="selectedStocks"
                                    [settings]="stockSettings"
                                    (onSelect)="onStockSelect($event)"
                                    (onSelectAll)="onStockSelectAll($event)"
                                    ></ng-multiselect-dropdown>
                                        </div>
                                  </div>
                                 </div>
                                 <div class="button-div">
                                    <button type="submit" class="btn pull-right" value={{rssfeed?._id}} style="float:left !important;" (click)="ignoreFeed(rssfeed?._id)">Ignore Feed</button>
                                 
                                 <button type="submit" class="btn pull-right" value={{rssfeed?._id}} (click)="tagFeed(rssfeed?._id)">Tag Feed</button>
                                 </div>
                                <div class="clearfix"></div>
                              </form> -->
                          </div>
                        
                        </div>
                </div>
            </div>
            <br><br><br> 
              </div>
          </div>
        </div>
      
    </div>
</div>